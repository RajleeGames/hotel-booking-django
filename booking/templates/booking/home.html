{% extends "booking/base.html" %}
{% load static %}

{% block title %}Home - Kilimanjaro Magic Site Hotel{% endblock %}

{% block hero_image %}{% static 'images/home_background.jpg' %}{% endblock %}

{% block hero_content %}
<h1>WELCOME TO <br> KILIMANJARO MAGIC SITE HOTEL MOSHI</h1>
<p>Experience Luxury &amp; Comfort in the Heart of Kilimanjaro</p>
{% endblock %}

{% block content %}
<style>
  /* =========================================
     CONTACT BANNER
  ========================================= */
  .contact-banner {
    position: relative;
    margin-top: 40px;
    background-image: url("{% static 'images/contact-banner.jpg' %}");
    background-repeat: no-repeat;
    background-position: center center;
    background-size: cover;
    height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .contact-banner .overlay {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.5);
  }
  .contact-banner .content {
    position: relative;
    color: #fff;
    text-align: center;
    z-index: 1;
  }
  .contact-banner .content h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
  }
  .contact-banner .content a {
    background: #8b0000;
    color: #fff;
    padding: 15px 30px;
    border-radius: 5px;
    text-decoration: none;
    font-size: 1.5rem;
    transition: background 0.3s ease;
  }
  .contact-banner .content a:hover {
    background: white;
    color: darkred;
    border: 2px solid darkred;
  }

  /* =========================================
     OUR HOTEL SECTION
  ========================================= */
  .our-hotel {
    padding: 60px 20px;
    text-align: center;
  }
  .our-hotel .section-heading h2 {
    font-size: 2.5rem;
    margin-bottom: 10px;
  }
  .our-hotel p {
    max-width: 800px;
    margin: 0 auto 40px;
    font-size: 1.1rem;
    color: #555;
  }
  .our-hotel .features {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
  }
  .feature-card {
    position: relative;
    overflow: hidden;
    flex: 1 1 220px;
    max-width: 300px;
    border-radius: 10px;
  }
  .feature-card img {
    width: 100%;
    display: block;
    transition: transform 0.3s ease;
  }
  .feature-card:hover img {
    transform: scale(1.05);
  }
  .feature-overlay {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    background: rgba(0,0,0,0.6);
    color: #fff;
    padding: 10px;
    text-align: center;
    transition: background 0.3s ease;
  }
  .feature-overlay h3 {
    margin: 0 0 5px;
  }
  .feature-overlay a {
    background: #f8b400;
    color: #fff;
    padding: 8px 16px;
    border-radius: 4px;
    text-decoration: none;
    font-weight: bold;
    transition: background 0.3s ease;
  }
  .feature-overlay a:hover {
    background: #e09e00;
  }

  /* =========================================
     VALUE ADDED SERVICES SECTION
  ========================================= */
  .value-added-services {
    padding: 60px 20px;
    text-align: center;
    background: #f5f5f5;
  }
  .value-added-services .section-heading h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
  }
  .service-columns {
    display: flex;
    justify-content: center;
    gap: 60px;
  }
  .service-columns .column {
    list-style: none;
    font-size: 1.2rem;
    color: #333;
  }
  .service-columns .column li {
    margin-bottom: 10px;
  }

  /* =========================================
     TESTIMONIALS SECTION
  ========================================= */
  .testimonials {
    padding: 60px 20px;
    background: #fff;
    text-align: center;
  }
  .testimonials .section-heading h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
  }
  .testimonials .testimonials-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-top: 40px;
  }
  .testimonial-card {
    background: #f9f9f9;
    padding: 25px;
    max-width: 320px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .testimonial-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0,0,0,0.15);
  }
  .testimonial-card p {
    font-style: italic;
    color: #555;
    line-height: 1.6;
  }
  .testimonial-author {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 15px;
  }
  .testimonial-author-img {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    margin-right: 10px;
    object-fit: cover;
  }
  .testimonial-author .author {
    font-weight: bold;
    color: #333;
  }

  /* =========================================
     PARTNERS SECTION
  ========================================= */
  .partners {
    padding: 60px 20px;
    text-align: center;
    background: #fff;
  }
  .partners .section-heading h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
  }
  .partners .partners-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 40px;
    align-items: center;
  }
  .partners .partners-container a img {
    max-height: 80px;
    width: auto;
    opacity: 0.8;
    transition: opacity 0.3s ease;
  }
  .partners .partners-container a img:hover {
    opacity: 1;
  }

  /* =========================================
     ROOMS SECTION
  ========================================= */
  #rooms {
    padding: 60px 20px;
    text-align: center;
  }
  #rooms .rooms {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
  }
  #rooms .room {
    background: #fff;
    padding: 20px;
    border: 1px solid #eee;
    border-radius: 8px;
    max-width: 300px;
    text-align: left;
    transition: box-shadow 0.3s ease;
  }
  #rooms .room:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  #rooms .room h3 {
    margin-top: 0;
  }
  #rooms .room img {
    width: 100%;
    border-radius: 5px;
    margin: 10px 0;
  }
  #rooms .room a {
    display: inline-block;
    background: #f8b400;
    color: #fff;
    padding: 10px 20px;
    border-radius: 4px;
    text-decoration: none;
    transition: background 0.3s ease;
  }
  #rooms .room a:hover {
    background: #e09e00;
  }

  /* =========================================
     DIAMOND LINE CONTAINER
  ========================================= */
  .diamond-line-container {
    margin: 40px 0;
  }
  .title-line {
    position: relative;
    height: 2px;
    background: #ccc;
    margin: 20px auto;
    max-width: 200px;
  }
  .title-line .diamond {
    position: absolute;
    top: -7px;
    left: 50%;
    transform: translateX(-50%);
    width: 15px;
    height: 15px;
    background: #f8b400;
    clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
  }

  /* =========================================
     CONTACT US BANNER
  ========================================= */
  .contact-banner {
    margin-top: 40px;
    background-image: url("{% static 'images/contact-banner.jpg' %}");
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }
  .contact-banner .overlay {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.5);
  }
  .contact-banner .content {
    position: relative;
    color: #fff;
    text-align: center;
    z-index: 1;
  }
  .contact-banner .content h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
  }
  .contact-banner .content a {
    background: #8b0000;
    color: #fff;
    padding: 15px 30px;
    border-radius: 5px;
    text-decoration: none;
    font-size: 1.5rem;
    transition: background 0.3s ease;
  }
  .contact-banner .content a:hover {
    background: white;
    color: darkred;
    border: 2px solid darkred;
  }

  /* =========================================
     CEO MODAL BUTTON & ANIMATION
  ========================================= */
  /* Floating button on the left */
  .ceo-button {
    position: fixed;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    background: #f8b400;
    color: #fff;
    padding: 12px 18px;
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1rem;
    z-index: 9999;
    transition: background 0.3s ease;
  }
  .ceo-button:hover {
    background: #e09e00;
  }

  /* Modal overlay */
  .ceo-modal {
    display: none;            
    position: fixed;
    z-index: 9998;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.6);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
  }
  /* When we add .show, display the modal with fade in */
  .ceo-modal.show {
    display: block;
    opacity: 1;
    pointer-events: auto;
  }

  /* Modal content pinned to left side */
  .ceo-modal-content {
    position: relative;
    background: #fff;
    margin: 10% 0 0 60px; /* left offset so it’s near the button */
    padding: 20px;
    max-width: 350px;
    border-radius: 10px;
    animation: slideInLeft 0.5s forwards ease;
  }
  @keyframes slideInLeft {
    from {
      transform: translateX(-60px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  /* Layout for image + text in one row */
  .ceo-modal-body {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .ceo-modal-body img {
    width: 80px;   /* smaller image */
    height: auto;
    border-radius: 8px;
  }
  .ceo-modal-body .ceo-text {
    flex: 1;  /* let text fill the remaining space */
  }
  .ceo-modal-body .ceo-text h2 {
    color: #8B0000;
    margin: 0 0 5px;
    font-size: 1.2rem;
  }
  .ceo-modal-body .ceo-text p {
    color: #333;
    font-size: 0.9rem;
    line-height: 1.4;
  }

  /* Close button (X) */
  .ceo-modal-content .close {
    position: absolute;
    top: 5px;
    right: 8px;
    font-size: 1.4rem;
    cursor: pointer;
    color: #333;
    transition: color 0.3s ease;
  }
  .ceo-modal-content .close:hover {
    color: #f00;
  }

  /* =========================================
     MOBILE VIEW ADJUSTMENTS
  ========================================= */
  @media (max-width: 768px) {
    /* Increase top margin so it's lower on the screen */
    .ceo-modal-content {
      margin: 20% 0 0 40px;
      max-width: 300px;
    }
    .ceo-modal-body img {
      width: 60px; /* smaller image for mobile */
    }
  }
</style>

<!-- "Meet the CEO" Button -->
<div class="ceo-button" onclick="openCeoModal()">
  Meet the CEO
</div>

<!-- CEO Modal -->
<div id="ceoModal" class="ceo-modal">
  <div class="ceo-modal-content">
    <!-- Close Button -->
    <span class="close" onclick="closeCeoModal()">&times;</span>
    
    <!-- CEO Body: image on left, text on right -->
    <div class="ceo-modal-body">
      <!-- Update this image path as needed -->
      <img src="{% static 'images/ceo1.jpg' %}" alt="CEO Image">
      <div class="ceo-text">
        <h2>Miraji Ally, CEO</h2>
        <p>
          Welcome to Kilimanjaro Magic Site Hotel! 
          <br>We strive to make your stay unforgettable.
        </p>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript to open/close modal -->
<script>
function openCeoModal() {
  document.getElementById('ceoModal').classList.add('show');
}

function closeCeoModal() {
  document.getElementById('ceoModal').classList.remove('show');
}

// Close modal by clicking outside the panel
document.getElementById('ceoModal').addEventListener('click', function(e) {
  if (e.target === this) {
    closeCeoModal();
  }
});
</script>

<!-- OUR HOTEL SECTION -->
<section class="our-hotel">
  <div class="section-heading">
    <h2>OUR HOTEL</h2>
    <div class="title-line">
      <span class="diamond"></span>
    </div>
  </div>
  <p>
    Named after the highest peak of Africa’s highest mountain – Mt Kilimanjaro, Kibo Palace Hotel is one of Arusha’s most exciting and innovative luxury hotels. Contemporary, conductive, and unconventional, a luxury hotel with a new attitude.
  </p>
  
  <div class="features">
    <div class="feature-card">
      <img src="{% static 'images/gym1.jpg' %}" alt="Accomodation">
      <div class="feature-overlay">
        <h3>Accomodation</h3>
        <a href="{% url 'accommodation' %}">Learn More</a>
      </div>
    </div>
    <div class="feature-card">
      <img src="{% static 'images/1b.jpg' %}" alt="Restaurant & Bars">
      <div class="feature-overlay">
        <h3>Restaurant & Bars</h3>
        <a href="{% url 'dine_wine' %}">Learn More</a>
      </div>
    </div>
    <div class="feature-card">
      <img src="{% static 'images/dine2.jpg' %}" alt="Meeting & Conferences">
      <div class="feature-overlay">
        <h3>Meeting & Conferences</h3>
        <a href="{% url 'events_conferences' %}">Learn More</a>
      </div>
    </div>
    <div class="feature-card">
      <img src="{% static 'images/dine3.jpg' %}" alt="Wellness Centre">
      <div class="feature-overlay">
        <h3>Wellness Centre</h3>
        <a href="{% url 'wellness_centre' %}">Learn More</a>
      </div>
    </div>
  </div>
</section>

<!-- VALUE ADDED SERVICES SECTION -->
<section class="value-added-services">
  <div class="section-heading">
    <h2>VALUE ADDED SERVICES</h2>
    <div class="title-line">
      <span class="diamond"></span>
    </div>
  </div>
  <div class="service-columns">
    <ul class="column">
      <li>Business Center</li>
      <li>Laundry & Dry-Cleaning Services</li>
      <li>External Catering Service</li>
      <li>Wireless internet services</li>
    </ul>
    <ul class="column">
      <li>Airport Transfer</li>
      <li>Organized Tour Packages</li>
      <li>Event Management</li>
      <li>Doctor on-call 24/7</li>
    </ul>
  </div>
</section>

<!-- TESTIMONIALS SECTION -->
<section class="testimonials">
  <div class="section-heading">
    <h2>WHAT OUR GUESTS SAY</h2>
    <div class="title-line">
      <span class="diamond"></span>
    </div>
  </div>
  <div class="testimonials-container">
    <div class="testimonial-card">
      <p>"The service here is exceptional and the atmosphere is simply magical. I felt like royalty during my stay!"</p>
      <div class="testimonial-author">
        <img 
          src="{% static 'images/testimonials/jane.jpg' %}"
          alt="Jane Doe" 
          class="testimonial-author-img">
        <span class="author">– Jane Doe</span>
      </div>
    </div>
    <div class="testimonial-card">
      <p>"Every detail was perfectly arranged. The luxury and comfort at Kilimanjaro Magic Site Hotel is unmatched."</p>
      <div class="testimonial-author">
        <img 
          src="{% static 'images/testimonials/john.jpg' %}"
          alt="John Smith" 
          class="testimonial-author-img">
        <span class="author">– John Smith</span>
      </div>
    </div>
    <div class="testimonial-card">
      <p>"A memorable experience! From the elegant rooms to the exquisite dining, everything exceeded my expectations."</p>
      <div class="testimonial-author">
        <img 
          src="{% static 'images/testimonials/mary.jpg' %}"
          alt="Mary Johnson" 
          class="testimonial-author-img">
        <span class="author">– Mary Johnson</span>
      </div>
    </div>
  </div>
</section>

<!-- PARTNERS SECTION -->
<section class="partners">
  <div class="section-heading">
    <h2>OUR PARTNERS</h2>
    <div class="title-line">
      <span class="diamond"></span>
    </div>
  </div>
  <div class="partners-container">
    <a href="https://www.booking.com" target="_blank">
      <img src="{% static 'images/partners/booking1.png' %}" alt="Booking.com">
    </a>
    <a href="https://www.tripadvisor.com" target="_blank">
      <img src="{% static 'images/partners/booking2.png' %}" alt="TripAdvisor">
    </a>
    <a href="https://www.expedia.com" target="_blank">
      <img src="{% static 'images/partners/booking3.png' %}" alt="Expedia">
    </a>
    <a href="https://www.hotels.com" target="_blank">
      <img src="{% static 'images/partners/booking5.png' %}" alt="Hotels.com">
    </a>
    <a href="https://kibopalacehotel.com" target="_blank">
      <img src="{% static 'images/partners/booking6.png' %}" alt="Kibo Palace Hotel">
    </a>
  </div>
</section>

<div class="diamond-line-container">
  <div class="title-line">
    <span class="diamond"></span>
  </div>
</div>

<!-- ROOMS SECTION -->
<section id="rooms">
  <div class="section-heading">
    <h2>OUR ROOMS</h2>
    <div class="title-line">
      <span class="diamond"></span>
    </div>
  </div>
  <div class="rooms">
    {% for room in rooms %}
      <div class="room">
        <h3>{{ room.name }}</h3>
        <p>Type: {{ room.get_room_type_display }}</p>
        <p>Price per night: Tsh{{ room.price_per_night }}</p>
        {% if room.image %}
          <img src="{{ room.image.url }}" alt="{{ room.name }}">
        {% endif %}
        <a href="{% url 'book_room' room.id %}">Book Now</a>
      </div>
    {% empty %}
      <p>No rooms available at the moment.</p>
    {% endfor %}
  </div>
</section>

<div class="diamond-line-container">
  <div class="title-line">
    <span class="diamond"></span>
  </div>
</div>

<!-- CONTACT US BANNER -->
<section class="contact-banner">
  <div class="overlay"></div>
  <div class="content">
    <h2>CONTACT US</h2>
    <a href="{% url 'contact' %}">FIND US</a>
  </div>
</section>

<br>

{% endblock %}
